# Plantie 開發任務追蹤

## App 分頁結構（Bottom Tab Navigation）

- **首頁**：商品推薦瀑布流、Banner、分類入口、熱門標籤，主打商品探索與導購。
- **社群**：社群貼文動態流、熱門/最新話題、互動（點讚、留言、分享），強調用戶交流與內容分享。
- **發布**：快速進入商品上架或發文頁，行動端主動 CTA（Call to Action）入口。
- **消息**：聊天訊息、系統通知、訂單提醒，整合所有互動與通知。
- **我的**：個人檔案、上架商品、收藏、訂單、帳號設定，聚焦用戶個人中心。

## 第一階段：基礎建設 (Foundation)

### 0. 專案初始化 [已完成]
- [x] Expo 專案初始化
- [x] 首頁 UI 組裝（Banner、分類、標籤、商品瀑布流）

### 1. 資料庫設計 [進行中]
- [x] 設計資料庫架構
- [x] 實現 Supabase 遷移腳本（已產生 supabase/migrations/001_init.sql）
- [ ] 設置初始數據
- [ ] 測試數據關係和約束

### 2. 基礎元件庫 [進行中]
- [x] 設置 shadcn/ui（已安裝 NativeWind 及相關依賴）
  - [x] 按鈕組件
  - [x] 輸入框組件
  - [x] 下拉選單
  - [x] 模態框
- [x] 實現共用布局
  - [x] 導航欄
  - [x] 頁尾
  - [x] 側邊欄
- [x] 表單元件
  - [x] 表單容器（FormContainer）
  - [x] 驗證整合（FormValidation）
  - [x] 錯誤處理（FormError）
- [x] 通用卡片
  - [x] 商品卡片（ProductCard）
  - [x] 用戶卡片（UserCard）
  - [x] 貼文卡片（PostCard）
- [x] 元件匯出 index.ts
- [x] 工具函式 cn

### 3. 用戶認證系統 [待開始]
- [ ] Supabase Auth 設置
- [ ] 實現認證頁面
  - [ ] 登入頁面
  - [ ] 註冊頁面
  - [ ] 忘記密碼
- [ ] 個人資料管理
  - [ ] 個人資料頁面
  - [ ] 編輯功能
  - [ ] 頭像上傳
- [ ] 權限控制
  - [ ] 路由保護
  - [ ] 角色管理
  - [ ] 權限檢查 hooks

## 第二階段：核心功能 (Core Features)

### 1. 商品功能 [待開始]
- [ ] 商品列表
  - [ ] 列表頁面
  - [ ] 篩選功能
  - [ ] 排序功能
- [ ] 商品詳情
  - [ ] 詳情頁面
  - [ ] 圖片輪播
  - [ ] 賣家資訊
- [ ] 商品管理
  - [ ] 上架表單
  - [ ] 編輯功能
  - [ ] 狀態管理

### 2. 聊天系統 [待開始]
- [ ] 聊天室列表
- [ ] 聊天界面
- [ ] 即時消息
- [ ] 圖片發送

### 3. 訂單系統 [待開始]
- [ ] 購買流程
- [ ] 訂單管理
- [ ] 訂單追蹤
- [ ] 評價系統

## 第三階段：社群功能 (Community)

### 1. 社群基礎功能 [待開始]
- [ ] 貼文功能
  - [ ] 列表頁面
  - [ ] 創建貼文
  - [ ] 編輯功能
- [ ] 互動功能
  - [ ] 點讚
  - [ ] 評論
  - [ ] 分享
- [ ] 用戶關注
  - [ ] 關注/取消關注
  - [ ] 關注者列表
  - [ ] 動態流

## 技術債務與優化

### 性能優化
- [ ] 實現圖片優化策略
- [ ] 設置 CDN
- [ ] 實現緩存策略
- [ ] 代碼分割優化

### 測試覆蓋
- [ ] 單元測試
- [ ] 集成測試
- [ ] E2E 測試
- [ ] 性能測試

### 監控與日誌
- [ ] 錯誤追蹤
- [ ] 性能監控
- [ ] 用戶行為分析
- [ ] 系統日誌

## UI/UX 優化

- [ ] 基礎元件統一樣式（按鈕、輸入框、下拉選單、模態框）
- [ ] 響應式設計與跨平台一致性
- [ ] 無障礙支援（accessibilityLabel、動態字體）
- [ ] 共用佈局優化（導航欄、頁尾、側邊欄、SafeAreaView）
- [ ] 表單互動體驗（錯誤提示、loading、Toast）
- [ ] 卡片元件優化（商品、用戶、貼文）
- [ ] 社群互動元件（點讚、評論、分享動畫）
- [ ] 裝置特性適配（StatusBar、Notch、KeyboardAvoidingView）
- [ ] 技術文件同步（components.md、ui-ux.md）

## 下一步行動項目

1. 設置基礎元件庫
2. 實現用戶認證流程
3. 開始商品相關功能開發

## 注意事項

1. 所有新功能必須包含：
   - 完整的測試
   - 技術文檔
   - 錯誤處理
   - 性能考慮

2. 代碼提交規範：
   - 遵循 conventional commits
   - 包含測試
   - 更新相關文檔

3. 開發流程：
   - 創建功能分支
   - 開發並測試
   - 提交 PR
   - 代碼審查
   - 合併到主分支 

### 首頁細節優化（進行中）
- [x] Banner 支援自動輪播、點擊跳轉（部分完成，箭頭已移除）
- [x] 分類/標籤點擊可篩選商品（UI 完成，待串接篩選功能）
- [x] 商品卡片 loading skeleton、空狀態（待補）
- [x] 商品卡片點擊進入詳情頁（即將開發）
- [x] 圖片載入失敗顯示預設圖（待補）
- [x] 商品資料分頁載入（Infinite Scroll，待補）
- [x] 商品收藏/喜歡功能（UI 完成，待串接）
- [x] 全局 loading/error 處理（待補）
- [x] Toast/訊息提示（待補）
- [x] 無障礙支援（accessibilityLabel、動態字體，部分完成）
- [x] 響應式與平板適配（部分完成）
- [x] 主題色切換（深色模式，待補）

### 產品詳情頁（優先開發）
- [ ] 圖片輪播（多圖，左右滑動）
- [ ] 商品標題、價格、分類/標籤
- [ ] 賣家資訊（頭像、暱稱、評價、聯絡/聊天按鈕）
- [ ] 商品描述
- [ ] 商品狀態（全新/二手、庫存、上架時間）
- [ ] 互動功能（like、留言、分享、收藏）
- [ ] 相關推薦商品
- [ ] 返回上一頁/首頁按鈕
- [ ] loading/error/空狀態處理

### 資料串接與互動（Supabase，待首頁與詳情頁完成後進行）
- [ ] 串接 Supabase 取得商品、分類、標籤
- [ ] 商品詳情頁資料串接
- [ ] 商品收藏/喜歡資料串接
- [ ] 分頁/Infinite Scroll 資料串接
- [ ] 聊天/社群資料串接

### 測試與技術優化
- [ ] 單元測試、E2E 測試、UI 測試
- [ ] 代碼覆蓋率提升
- [ ] 型別安全加強

---

> 目前已完成詳情頁基本結構，下一步將依標準二手商品詳情頁逐步補齊上述欄位與功能，mock data 實作，UI/UX 先行，資料串接於主頁面完善後統一進行。 